<div class="font-semibold text-xl mb-4">Ventas</div>

<div class="flex flex-col md:flex-row gap-8 mt-6">
    <div class="md:w-2/3">
        <div class="card">
            <div class="flex justify-content-between align-items-center mb-4">
                <div class="font-semibold text-xl">Productos Disponibles</div>

                <span class="p-input-icon-left w-20rem">

                    <input #filter pInputText type="text" (input)="dt.filterGlobal(filter.value, 'contains')"
                        placeholder="Buscar producto..." class="w-full" />
                </span>
            </div>

            <p-table #dt showGridlines stripedRows [size]="'small'" [value]="products_details()" rowGroupMode="rowspan"
                groupRowsBy="productName" sortField="productName" sortMode="single" [paginator]="true" [rows]="5"
                [rowsPerPageOptions]="[5,10,20]" [globalFilterFields]="['productName','color','size','warehouse']"
                [tableStyle]="{ 'min-width': '20rem' }">

                <!-- HEADER -->
                <ng-template pTemplate="header">
                    <tr>
                        <th>#</th>
                        <th>Producto</th>
                        <th>Color</th>
                        <th>Talla</th>
                        <th>Stock</th>
                        <th>Almacén</th>
                    </tr>
                </ng-template>

                <!-- BODY -->
                <ng-template pTemplate="body" let-product let-rowIndex="rowIndex" let-rowgroup="rowgroup"
                    let-rowspan="rowspan">

                    <tr>
                        <td>{{ rowIndex + 1 }}</td>
                        <td *ngIf="rowgroup" [attr.rowspan]="rowspan" class="align-middle">

                            <div class="flex items-center justify-start gap-2">
                                <img [src]="getImageUrl(product.image)" [alt]="product.productName"
                                    class="w-10 h-10 object-cover rounded-md" />

                                <span class="font-semibold">
                                    {{ product.productName }}
                                </span>
                            </div>

                        </td>
                        <td>{{ product.color }}</td>
                        <td>{{ product.size }}</td>
                        <td>{{ product.stock }}</td>
                        <td>{{ product.warehouse }}</td>
                    </tr>

                </ng-template>

                <!-- MENSAJE VACÍO -->
                <ng-template pTemplate="emptymessage">
                    <tr>
                        <td colspan="6" class="text-center">
                            No se encontraron productos
                        </td>
                    </tr>
                </ng-template>

            </p-table>

        </div>
    </div>

    <div class="md:w-1/3">
        <div class="card">
            <div class="font-semibold text-xl mb-4">Productos seleccionados</div>
        </div>
    </div>
</div>